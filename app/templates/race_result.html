{% extends "base.html" %}

{% block content %}
<style>
    table {
      border-collapse: collapse;
      width: 60%;
      margin: 20px auto;
    }
    th, td {
      border: 1px solid #333;
      padding: 8px;
      text-align: center; 
      vertical-align: middle;
    }
    th {
      background-color: #f2f2f2;
    }
    h1 {
      text-align: center;
    }
  </style>
  
  <h1>{{ year }} {{ value }} Race Result</h1>
  <img src="{{ url_for('static', filename='media/circuits/' + circuit['circuitId'].lower().replace(' ', '_') + '.png') }}" width="600" style="display: block; margin: 0 auto;"><br>
  <h3 style="text-align: center;">{{ circuit['circuitName'] ~ ', ' ~ circuit['Location']['locality'] ~ ', ' ~ circuit['Location']['country'] }}</h3><br><hr>
  <table>
    <thead>
      <tr>
        <th></th>
        <th>Driver</th>
        <th>Nationality</th>
        <th>Constructor</th>
        <th>Chassis</th>
        <th>Time</th>
        <th>Delta</th>
        <th>Change</th>
        <th>Points</th>
      </tr>
    </thead>
    <tbody>
      {% for result in results %}
      <tr valign="top">
        <td>{{ result['position'] }}.</td>
        <td><img src="static/media/drivers/{{ result['Driver']['driverId'] }}.avif" width="50"><br>
          {{ result['Driver']['givenName'] }}<br> {{ result['Driver']['familyName'] }}</td>
        <td><img src="static/media/flags/{{ result['Driver']['nationality'].lower().replace(' ', '_') }}.png" width="50"></td>
        <td><img src="static/media/constructors/{{ result['Constructor']['constructorId'] }}.png" width="50"><br>
          {{ result['Constructor']['name'] }}</td>
        <td><img src="static/media/cars/{{ result['Constructor']['constructorId'] }}_2025.png" width="175"></td>
        <td>{{ result['Time']['millis'] }}</td>
        <td>{{ result['Time']['time'] }}</td>
        <td>{{ result['change'] }}</td>
        <td>{{ result['points'] }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}